{"version":3,"file":"coreui-chartjs.js","sources":["../../js/src/custom-tooltips.js","../../js/index.umd.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Custom Tooltips for Chart.js (v3.1.2): custom-tooltips.js\n * Licensed under MIT (https://coreui.io/plugins/chart.js)\n * --------------------------------------------------------------------------\n */\n\nconst ClassName = {\n  TOOLTIP: 'chartjs-tooltip',\n  TOOLTIP_BODY: 'chartjs-tooltip-body',\n  TOOLTIP_BODY_ITEM: 'chartjs-tooltip-body-item',\n  TOOLTIP_HEADER: 'chartjs-tooltip-header',\n  TOOLTIP_HEADER_ITEM: 'chartjs-tooltip-header-item'\n}\n\nconst getOrCreateTooltip = chart => {\n  let tooltipEl = chart.canvas.parentNode.querySelector('div')\n\n  if (!tooltipEl) {\n    tooltipEl = document.createElement('div')\n    tooltipEl.classList.add(ClassName.TOOLTIP)\n\n    const table = document.createElement('table')\n    table.style.margin = '0px'\n\n    tooltipEl.appendChild(table)\n    chart.canvas.parentNode.appendChild(tooltipEl)\n  }\n\n  return tooltipEl\n}\n\nconst customTooltips = context => {\n  // Tooltip Element\n  const { chart, tooltip } = context\n  const tooltipEl = getOrCreateTooltip(chart)\n\n  // Hide if no tooltip\n  if (tooltip.opacity === 0) {\n    tooltipEl.style.opacity = 0\n    return\n  }\n\n  // Set Text\n  if (tooltip.body) {\n    const titleLines = tooltip.title || []\n    const bodyLines = tooltip.body.map(b => b.lines)\n\n    const tableHead = document.createElement('thead')\n    tableHead.classList.add(ClassName.TOOLTIP_HEADER)\n\n    titleLines.forEach(title => {\n      const tr = document.createElement('tr')\n      tr.style.borderWidth = 0\n      tr.classList.add(ClassName.TOOLTIP_HEADER_ITEM)\n\n      const th = document.createElement('th')\n      th.style.borderWidth = 0\n      const text = document.createTextNode(title)\n\n      th.appendChild(text)\n      tr.appendChild(th)\n      tableHead.appendChild(tr)\n    })\n\n    const tableBody = document.createElement('tbody')\n    tableBody.classList.add(ClassName.TOOLTIP_BODY)\n\n    bodyLines.forEach((body, i) => {\n      const colors = tooltip.labelColors[i]\n\n      const span = document.createElement('span')\n      span.style.background = colors.backgroundColor\n      span.style.borderColor = colors.borderColor\n      span.style.borderWidth = '2px'\n      span.style.marginRight = '10px'\n      span.style.height = '10px'\n      span.style.width = '10px'\n      span.style.display = 'inline-block'\n\n      const tr = document.createElement('tr')\n      tr.classList.add(ClassName.TOOLTIP_BODY_ITEM)\n\n      const td = document.createElement('td')\n      td.style.borderWidth = 0\n\n      const text = document.createTextNode(body)\n\n      td.appendChild(span)\n      td.appendChild(text)\n      tr.appendChild(td)\n      tableBody.appendChild(tr)\n    })\n\n    const tableRoot = tooltipEl.querySelector('table')\n\n    // Remove old children\n    while (tableRoot.firstChild) {\n      tableRoot.firstChild.remove()\n    }\n\n    // Add new children\n    tableRoot.appendChild(tableHead)\n    tableRoot.appendChild(tableBody)\n  }\n\n  const { offsetLeft: positionX, offsetTop: positionY } = chart.canvas\n\n  // Display, position, and set styles for font\n  tooltipEl.style.opacity = 1\n  tooltipEl.style.left = positionX + tooltip.caretX + 'px'\n  tooltipEl.style.top = positionY + tooltip.caretY + 'px'\n  tooltipEl.style.font = tooltip.options.bodyFont.string\n  tooltipEl.style.padding = tooltip.padding + 'px ' + tooltip.padding + 'px'\n}\n\nexport default customTooltips\n","/**\n * --------------------------------------------------------------------------\n * Custom Tooltips for Chart.js (v3.1.2): index.umd.js\n * Licensed under MIT (https://github.com/@coreui/coreui-chartjs/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n// eslint-disable-next-line no-unused-vars\nimport customTooltips from './src/custom-tooltips.js'\n\nexport default {\n  customTooltips\n}\n"],"names":["ClassName","TOOLTIP","TOOLTIP_BODY","TOOLTIP_BODY_ITEM","TOOLTIP_HEADER","TOOLTIP_HEADER_ITEM","getOrCreateTooltip","chart","tooltipEl","canvas","parentNode","querySelector","document","createElement","classList","add","table","style","margin","appendChild","customTooltips","context","tooltip","opacity","body","titleLines","title","bodyLines","map","b","lines","tableHead","forEach","tr","borderWidth","th","text","createTextNode","tableBody","i","colors","labelColors","span","background","backgroundColor","borderColor","marginRight","height","width","display","td","tableRoot","firstChild","remove","offsetLeft","positionX","offsetTop","positionY","left","caretX","top","caretY","font","options","bodyFont","string","padding"],"mappings":"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"}